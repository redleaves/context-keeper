# Context-Keeper LLM驱动智能化配置文件
# 🔥 默认关闭所有新功能，确保系统稳定性

# 总开关
enabled: true   # 🔥 开启LLM驱动智能功能

# 功能开关
features:
  semantic_analysis: true     # 语料分析引擎
  multi_dimensional: true     # 多维度检索引擎
  content_synthesis: true     # 内容合成引擎
  context_updates: false      # 上下文更新功能暂时关闭

# 降级策略
fallback:
  enable_auto_fallback: true  # 启用自动降级
  fallback_threshold: 3       # 连续失败3次后自动降级
  max_retries: 2              # 最大重试次数

# LLM配置
llm:
  provider: "openai"          # LLM提供商
  model: "gpt-4"              # 使用的模型
  max_tokens: 4000            # 最大Token数
  temperature: 0.1            # 温度参数
  timeout: 30                 # 超时时间（秒）

# 存储配置
storage:
  timeline_db:
    enabled: false            # TimescaleDB集成暂时关闭
    connection_string: ""
  
  knowledge_graph:
    enabled: false            # Neo4j集成暂时关闭
    connection_string: ""

# 🆕 智能存储配置
smart_storage:
  # 置信度阈值配置
  confidence_thresholds:
    timeline_storage: 0.7           # 时间线存储阈值
    knowledge_graph_storage: 0.6    # 知识图谱存储阈值
    vector_storage: 0.5             # 向量存储阈值
    context_only_threshold: 0.7     # 仅上下文记录阈值（调整到0.7）

  # 多向量配置
  multi_vector:
    enabled_dimensions:             # 启用的维度
      - "core_intent"               # 核心意图维度
      - "domain_context"            # 领域上下文维度
      - "scenario"                  # 场景维度
    default_weights:                # 默认权重配置
      core_intent: 0.5              # 核心意图权重（最高）
      domain_context: 0.3           # 领域上下文权重
      scenario: 0.15                # 场景权重
      completeness: 0.05            # 完整度权重
    max_dimensions: 4               # 最大维度数量

  # 存储策略配置
  strategy:
    enable_fallback: true           # 启用降级机制
    fallback_to_single_vector: true # 降级到单向量存储
    log_analysis_details: true      # 记录分析详情
    enable_async_storage: false     # 异步存储（暂时关闭）
    storage_timeout_seconds: 30     # 存储超时时间

# 性能配置
performance:
  max_concurrent_requests: 10 # 最大并发请求数
  request_timeout: 60         # 请求超时时间（秒）
  cache_enabled: true         # 启用缓存
  cache_ttl: 300              # 缓存TTL（秒）

# 监控配置
monitoring:
  metrics_enabled: true       # 启用指标收集
  log_level: "info"           # 日志级别
  alert_enabled: false        # 告警功能暂时关闭

# 环境变量说明
# 以下环境变量可以覆盖配置文件中的设置：
#
# 总开关:
# - LLM_DRIVEN_ENABLED=true/false
#
# 功能开关:
# - LLM_DRIVEN_SEMANTIC_ANALYSIS=true/false
# - LLM_DRIVEN_MULTI_DIMENSIONAL=true/false
# - LLM_DRIVEN_CONTENT_SYNTHESIS=true/false
#
# LLM配置:
# - LLM_PROVIDER=openai
# - LLM_MODEL=gpt-4
# - LLM_MAX_TOKENS=4000
# - LLM_TEMPERATURE=0.1
#
# 降级配置:
# - LLM_DRIVEN_AUTO_FALLBACK=true/false
# - LLM_DRIVEN_FALLBACK_THRESHOLD=3
